{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Allan/Documents/GitHub/Proyecto_Desarrollo_Web2/proyecto/src/app/mascotas/page.tsx"],"sourcesContent":["'use client'\r\nimport React, { useState, useEffect} from \"react\"\r\nimport { Mascota } from \"../Modelos/auth\"\r\nimport { useAuth } from \"../Providers/authProvider\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\nexport default function MascotasPage() {\r\n  const [mascotas, setMascotas] = useState<Mascota[]>([]);\r\n  const [cargando, setCargando] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const { token } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    async function fetchMascotas() {\r\n      if (!token) {\r\n        router.push('/');\r\n        return;\r\n      }\r\n      try {\r\n        const response = await fetch('http://localhost:5000/api/mascota', {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Error al obtener las mascotas.');\r\n        }\r\n\r\n        const data = await response.json();\r\n        setMascotas(data);\r\n      } catch (err) {\r\n        setError('No se pudo cargar la lista de mascotas.');\r\n        console.error(err);\r\n      } finally {\r\n        setCargando(false);\r\n      }\r\n    }\r\n\r\n    fetchMascotas();\r\n  }, [token, router]);\r\n\r\n  if (cargando) {\r\n    return <div className=\"text-center mt-5\">Cargando mascotas...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"alert alert-danger text-center mt-5\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <h1 className=\"text-center mb-4\">Mascotas Disponibles</h1>\r\n      <div className=\"row\">\r\n        {mascotas.map((mascota) => (\r\n          <div key={mascota.id_mascota} className=\"col-md-4 mb-4\">\r\n            <div className=\"card h-100\">\r\n              <img src={mascota.foto} className=\"card-img-top\" alt={`Foto de ${mascota.nombre}`} style={{ height: '250px', objectFit: 'cover' }}/>\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{mascota.nombre}</h5>\r\n                <p className=\"card-text\">\r\n                  <strong>Raza:</strong> {mascota.raza} <br/>\r\n                  <strong>Edad:</strong> {mascota.edad} a√±os <br/>\r\n                  <strong>Especie:</strong> {mascota.especie}\r\n                </p>\r\n                <p className=\"card-text\">{mascota.descripcion}</p>\r\n                <button className=\"btn btn-primary\">Adoptar</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AAEA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wOAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wOAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wOAAQ,EAAgB;IAClD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,qNAAO;IACzB,MAAM,SAAS,IAAA,iNAAS;IAExB,IAAA,yOAAS;kCAAC;YACR,eAAe;gBACb,IAAI,CAAC,OAAO;oBACV,OAAO,IAAI,CAAC;oBACZ;gBACF;gBACA,IAAI;oBACF,MAAM,WAAW,MAAM,MAAM,qCAAqC;wBAChE,SAAS;4BACP,gBAAgB;4BAChB,iBAAiB,AAAC,UAAe,OAAN;wBAC7B;oBACF;oBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;wBAChB,MAAM,IAAI,MAAM;oBAClB;oBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,YAAY;gBACd,EAAE,OAAO,KAAK;oBACZ,SAAS;oBACT,QAAQ,KAAK,CAAC;gBAChB,SAAU;oBACR,YAAY;gBACd;YACF;YAEA;QACF;iCAAG;QAAC;QAAO;KAAO;IAElB,IAAI,UAAU;QACZ,qBAAO,4PAAC;YAAI,WAAU;sBAAmB;;;;;;IAC3C;IAEA,IAAI,OAAO;QACT,qBAAO,4PAAC;YAAI,WAAU;sBAAuC;;;;;;IAC/D;IAEA,qBACE,4PAAC;QAAI,WAAU;;0BACb,4PAAC;gBAAG,WAAU;0BAAmB;;;;;;0BACjC,4PAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,4PAAC;wBAA6B,WAAU;kCACtC,cAAA,4PAAC;4BAAI,WAAU;;8CACb,4PAAC;oCAAI,KAAK,QAAQ,IAAI;oCAAE,WAAU;oCAAe,KAAK,AAAC,WAAyB,OAAf,QAAQ,MAAM;oCAAI,OAAO;wCAAE,QAAQ;wCAAS,WAAW;oCAAQ;;;;;;8CAChI,4PAAC;oCAAI,WAAU;;sDACb,4PAAC;4CAAG,WAAU;sDAAc,QAAQ,MAAM;;;;;;sDAC1C,4PAAC;4CAAE,WAAU;;8DACX,4PAAC;8DAAO;;;;;;gDAAc;gDAAE,QAAQ,IAAI;gDAAC;8DAAC,4PAAC;;;;;8DACvC,4PAAC;8DAAO;;;;;;gDAAc;gDAAE,QAAQ,IAAI;gDAAC;8DAAM,4PAAC;;;;;8DAC5C,4PAAC;8DAAO;;;;;;gDAAiB;gDAAE,QAAQ,OAAO;;;;;;;sDAE5C,4PAAC;4CAAE,WAAU;sDAAa,QAAQ,WAAW;;;;;;sDAC7C,4PAAC;4CAAO,WAAU;sDAAkB;;;;;;;;;;;;;;;;;;uBAXhC,QAAQ,UAAU;;;;;;;;;;;;;;;;AAmBtC;GAtEwB;;QAIJ,qNAAO;QACV,iNAAS;;;KALF","debugId":null}}]
}