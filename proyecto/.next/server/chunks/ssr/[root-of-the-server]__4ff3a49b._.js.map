{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Allan/Documents/GitHub/Proyecto_Desarrollo_Web2/proyecto/src/app/Context/authContext.tsx"],"sourcesContent":["import { createContext } from \"react\";\r\nimport { Usuario } from \"../Modelos/auth\";\r\n\r\nexport const AuthContext = createContext({\r\n    usuario: null,\r\n    token: null,\r\n    login: async () => false,\r\n    logout: () => {},\r\n    registro: async () => false,\r\n    cargando: true\r\n});"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,4BAAc,IAAA,qRAAa,EAAC;IACrC,SAAS;IACT,OAAO;IACP,OAAO,UAAY;IACnB,QAAQ,KAAO;IACf,UAAU,UAAY;IACtB,UAAU;AACd","debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Allan/Documents/GitHub/Proyecto_Desarrollo_Web2/proyecto/src/app/Providers/authProvider.tsx"],"sourcesContent":["'use client'\r\nimport React, {useState, useEffect} from \"react\"\r\nimport { AuthContext } from \"../Context/authContext\"\r\nimport { Plantilla, Usuario } from \"../Modelos/auth\"\r\n\r\nexport default function AuthProvider({ children }: Plantilla) {\r\n    const [usuario, setUsuario] = useState<Usuario | null>(null);\r\n    const [token, setToken] = useState<string | null>(null);\r\n    const [cargando, setCargando] = useState<boolean>(true);\r\n\r\n    useEffect(() => {\r\n        const storedToken = localStorage.getItem('token');\r\n        if (storedToken) {\r\n            setToken(storedToken);\r\n        }\r\n        setCargando(false);\r\n    }, []);\r\n\r\n\r\n     const login = async (email: string, contrasena: string): Promise<boolean> => {\r\n        try {\r\n            const response = await fetch('http://localhost:5000/api/usuarios/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ email, contraseña: contrasena }),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                setToken(data.token)\r\n                setUsuario(data.data)\r\n                localStorage.setItem('token', data.token)\r\n                console.log('Inicio de sesión exitoso:', data)\r\n                return true;\r\n            } else {\r\n                console.error('Error en el login:', data.mensaje)\r\n                return false;\r\n            }\r\n        } catch (error) {\r\n            console.error('Error de red:', error)\r\n            return false\r\n        }\r\n    };\r\n\r\n    const logout = () => {\r\n        setToken(null);\r\n        setUsuario(null);\r\n        localStorage.removeItem('token');\r\n        console.log('Sesión cerrada');\r\n    };\r\n\r\n    const registro = async (datos: any): Promise<boolean> => {\r\n        try {\r\n            const response = await fetch('http://localhost:5000/api/usuarios/registro', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(datos),\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                console.log('Registro exitoso:', data);\r\n                return true;\r\n            } else {\r\n                console.error('Error en el registro:', data.mensaje);\r\n                return false;\r\n            }\r\n        } catch (error) {\r\n            console.error('Error de red:', error);\r\n            return false;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ usuario, token, login, logout, registro, cargando }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport const useAuth = () => {\r\n    return React.useContext(AuthContext);\r\n}    "],"names":[],"mappings":";;;;;;;AACA;AACA;AAFA;;;;AAKe,SAAS,aAAa,EAAE,QAAQ,EAAa;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gRAAQ,EAAiB;IACvD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gRAAQ,EAAgB;IAClD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gRAAQ,EAAU;IAElD,IAAA,iRAAS,EAAC;QACN,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,IAAI,aAAa;YACb,SAAS;QACb;QACA,YAAY;IAChB,GAAG,EAAE;IAGJ,MAAM,QAAQ,OAAO,OAAe;QACjC,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,4CAA4C;gBACrE,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO,YAAY;gBAAW;YACzD;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,SAAS,EAAE,EAAE;gBACb,SAAS,KAAK,KAAK;gBACnB,WAAW,KAAK,IAAI;gBACpB,aAAa,OAAO,CAAC,SAAS,KAAK,KAAK;gBACxC,QAAQ,GAAG,CAAC,6BAA6B;gBACzC,OAAO;YACX,OAAO;gBACH,QAAQ,KAAK,CAAC,sBAAsB,KAAK,OAAO;gBAChD,OAAO;YACX;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,OAAO;QACX;IACJ;IAEA,MAAM,SAAS;QACX,SAAS;QACT,WAAW;QACX,aAAa,UAAU,CAAC;QACxB,QAAQ,GAAG,CAAC;IAChB;IAEA,MAAM,WAAW,OAAO;QACpB,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,+CAA+C;gBACxE,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAC;YACzB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,SAAS,EAAE,EAAE;gBACb,QAAQ,GAAG,CAAC,qBAAqB;gBACjC,OAAO;YACX,OAAO;gBACH,QAAQ,KAAK,CAAC,yBAAyB,KAAK,OAAO;gBACnD,OAAO;YACX;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,OAAO;QACX;IACJ;IAEA,qBACI,6SAAC,mNAAW,CAAC,QAAQ;QAAC,OAAO;YAAE;YAAS;YAAO;YAAO;YAAQ;YAAU;QAAS;kBAC5E;;;;;;AAGb;AAEO,MAAM,UAAU;IACnB,OAAO,+QAAK,CAAC,UAAU,CAAC,mNAAW;AACvC","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Allan/Documents/GitHub/Proyecto_Desarrollo_Web2/proyecto/src/app/Componentes/navbarComponent.tsx"],"sourcesContent":["'use client'\r\nimport React from \"react\"\r\nimport Link from \"next/link\"\r\nimport { useAuth } from \"../Providers/authProvider\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\nexport default function NavbarComponent() {\r\n    const { usuario, logout, cargando } = useAuth();\r\n    const router = useRouter();\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n        router.push('/');\r\n    };\r\n\r\n    if (cargando) {\r\n        return null;\r\n    }\r\n\r\n    if (!usuario) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <nav className=\"navbar navbar-expand-lg bg-body-tertiary\">\r\n            <div className=\"container-fluid\">\r\n                <Link className=\"navbar-brand\" href=\"/dashboard\">ADOPTANDO</Link>\r\n                \r\n                    <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"nav-link\" href=\"/mascotas\">Mascotas</Link>\r\n                        </li>\r\n                        {usuario.esDueño && (\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" href=\"/mascotas/agregar\">Agregar Mascota</Link>\r\n                            </li>\r\n                        )}\r\n                        <li className=\"nav-item\">\r\n                            <button className=\"nav-link btn btn-link\" onClick={handleLogout}>\r\n                                Cerrar Sesión\r\n                            </button>\r\n                        </li>\r\n                    </ul>\r\n                \r\n            </div>\r\n        </nav>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,kNAAO;IAC7C,MAAM,SAAS,IAAA,8MAAS;IAExB,MAAM,eAAe;QACjB;QACA,OAAO,IAAI,CAAC;IAChB;IAEA,IAAI,UAAU;QACV,OAAO;IACX;IAEA,IAAI,CAAC,SAAS;QACV,OAAO;IACX;IAEA,qBACI,6SAAC;QAAI,WAAU;kBACX,cAAA,6SAAC;YAAI,WAAU;;8BACX,6SAAC,sOAAI;oBAAC,WAAU;oBAAe,MAAK;8BAAa;;;;;;8BAE7C,6SAAC;oBAAG,WAAU;;sCACV,6SAAC;4BAAG,WAAU;sCACV,cAAA,6SAAC,sOAAI;gCAAC,WAAU;gCAAW,MAAK;0CAAY;;;;;;;;;;;wBAE/C,QAAQ,OAAO,kBACZ,6SAAC;4BAAG,WAAU;sCACV,cAAA,6SAAC,sOAAI;gCAAC,WAAU;gCAAW,MAAK;0CAAoB;;;;;;;;;;;sCAG5D,6SAAC;4BAAG,WAAU;sCACV,cAAA,6SAAC;gCAAO,WAAU;gCAAwB,SAAS;0CAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS7F","debugId":null}}]
}