{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Allan/Documents/GitHub/Proyecto_Desarrollo_Web2/proyecto/src/app/mascotas/agregar/page.tsx"],"sourcesContent":["'use client'\r\nimport React, { useState } from 'react'\r\nimport { useAuth } from '@/app/Providers/authProvider'\r\nimport { useRouter } from 'next/navigation'\r\n\r\n\r\n\r\n\r\nexport default function page() {\r\n    const { token, usuario } =useAuth();\r\n    const router = useRouter();\r\n\r\n    const [nombre, setNombre] = useState('');\r\n    const [edad, setEdad] = useState('');\r\n    const [especie, setEspecie]= useState('');\r\n    const [raza, setRaza] = useState('');\r\n    const [descripcion, setDescripcion] = useState('');\r\n    const [foto, setFoto] = useState('')\r\n\r\n    const handleAgregarMascota = async (e: React.FormEvent)=> {\r\n        e.preventDefault()\r\n\r\n        if(!token || !usuario || !usuario.esDueño){\r\n            alert('No tienes permiso para agregar mascotas');\r\n            router.push('/dashboard')\r\n            return;\r\n        }\r\n\r\n        const nuevaMascota = {\r\n            nombre,\r\n            especie,\r\n            raza,\r\n            edad: parseInt(edad),\r\n            descripcion,\r\n            foto,\r\n            estado: 'disponible',\r\n        }\r\n\r\n        try{\r\n            const response = await fetch('http://localhost:5000/api/mascota',{\r\n                method:'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify(nuevaMascota),\r\n            })\r\n\r\n            if(response.ok){\r\n                alert('Mascota agregada con exito')\r\n                router.push('/mascotas')\r\n            }else{\r\n                const data = await response.json();\r\n                alert(`Error al agregar la mascota: ${data.mensaje}`)\r\n            }\r\n        }catch(error){\r\n            console.error('Error de red ', error);\r\n            alert(`ocurrio un error al conectar con el servidor`)\r\n        }\r\n    }\r\n  return (\r\n      <div className=\"container mt-5\">\r\n          <h1 className=\"text-center mb-4\">Agregar Nueva Mascota</h1>\r\n          <div className=\"card mx-auto\" style={{ maxWidth: '600px' }}>\r\n              <div className=\"card-body\">\r\n                  <form onSubmit={handleAgregarMascota}>\r\n                      <div className=\"mb-3\">\r\n                          <label className=\"form-label\">Nombre</label>\r\n                          <input type=\"text\" className=\"form-control\" value={nombre} onChange={(e) => setNombre(e.target.value)} required />\r\n                      </div>\r\n                      <div className=\"mb-3\">\r\n                          <label className=\"form-label\">Edad</label>\r\n                          <input type=\"number\" className=\"form-control\" value={edad} onChange={(e) => setEdad(e.target.value)} required />\r\n                      </div>\r\n                      <div className=\"mb-3\">\r\n                          <label className=\"form-label\">Especie (Perro, Gato, etc.)</label>\r\n                          <input type=\"text\" className=\"form-control\" value={especie} onChange={(e) => setEspecie(e.target.value)} required />\r\n                      </div>\r\n                      <div className=\"mb-3\">\r\n                          <label className=\"form-label\">Raza</label>\r\n                          <input type=\"text\" className=\"form-control\" value={raza} onChange={(e) => setRaza(e.target.value)} required />\r\n                      </div>\r\n                      <div className=\"mb-3\">\r\n                          <label className=\"form-label\">Descripción</label>\r\n                          <textarea className=\"form-control\" value={descripcion} onChange={(e) => setDescripcion(e.target.value)} required />\r\n                      </div>\r\n                      <div className=\"mb-3\">\r\n                          <label className=\"form-label\">URL de la Foto</label>\r\n                          <input type=\"url\" className=\"form-control\" value={foto} onChange={(e) => setFoto(e.target.value)} required />\r\n                      </div>\r\n                      <button type=\"submit\" className=\"btn btn-primary\">Agregar Mascota</button>\r\n                  </form>\r\n              </div>\r\n          </div>\r\n      </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}